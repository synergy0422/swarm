# Requirements Archive: v1.0 AI Swarm MVP

**Archived:** 2026-01-31
**Status:** ✅ SHIPPED

This is the archived requirements specification for v1.0. For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

## v1 Requirements

### tmux 集成层 (CORE)

- [x] **CORE-01**: tmux 资源发现 — `tmux list-sessions/windows/panes` 封装
- [x] **CORE-02**: 能力封装 — `capture/read` (capture-pane)、`send/control` (send-keys)

### 共享状态管理 (CORE)

- [x] **CORE-03**: 共享目录结构 — `/tmp/ai_swarm/{status.log, tasks.json, locks/, results/}`
- [x] **CORE-04**: 状态广播 — START/DONE/WAIT/ERROR/HELP/SKIP 协议
- [x] **CORE-05**: 任务锁 — 文件锁机制避免冲突

### Master-Worker 协作 (CORE)

- [x] **CORE-06**: Master 扫描 — 定期 scan 其他终端输出
- [x] **CORE-07**: 自动救援 — 检测 `[y/n]`、`[Y/n]`、`确认` 等等待模式
- [x] **CORE-08**: 错误检测 — 检测 `Error`、`Failed`、`Exception` 等错误模式

### CLI 与交付 (CORE)

- [x] **CORE-09**: CLI 工具 — `swarm init/run/master/worker` 命令
- [x] **CORE-10**: 启动脚本 — 一键 tmux 会话初始化 + Master + N Workers

### 现有代码复用 (CORE)

- [x] **CORE-11**: 复制 Phase 2 实现 — config.py、task_queue.py、worker_smart.py
- [x] **CORE-12**: 适配新目录 — 修改路径为 /tmp/ai_swarm/
- [x] **CORE-13**: 集成测试 — 验证完整工作流

## v2 Requirements (Not in v1.0)

### 增强协作模式

- [ ] **PIPE-01**: Pipeline 模式 — 任务串行流转（分析→设计→实现→测试）
- [ ] **P2P-01**: P2P 对等模式 — 去中心化协作
- [ ] **HYBRID-01**: 混合模式 — 分组协作 + 统一调度

### Web 监控

- [ ] **WEB-01**: Flask API — 状态端点
- [ ] **WEB-02**: 实时面板 — WebSocket/轮询监控
- [ ] **WEB-03**: 任务管理 — 增删改查界面

### 调度优化

- [ ] **SCHED-01**: 基于负载的任务分配
- [ ] **SCHED-02**: 能力感知调度（Worker 擅长领域）
- [ ] **SCHED-03**: 成本优化调度

### 扩展能力

- [ ] **SSH-01**: SSH 跨机扩展 — tmux over SSH（预留接口）

## Out of Scope

| Feature | Reason |
|---------|--------|
| 危险命令自动执行 | rm -rf、DROP TABLE 等需人工确认 |
| 跨网络分布式协作 | 暂不支持，Phase 2 预留接口 |
| 图形界面 | 纯终端工具 |
| 实时交互场景 | 需要人工实时响应 |

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| CORE-01 | Phase 2 | ✅ Complete |
| CORE-02 | Phase 2 | ✅ Complete |
| CORE-03 | Phase 3 | ✅ Complete |
| CORE-04 | Phase 3 | ✅ Complete |
| CORE-05 | Phase 3 | ✅ Complete |
| CORE-06 | Phase 4 | ✅ Complete |
| CORE-07 | Phase 4 | ✅ Complete |
| CORE-08 | Phase 4 | ✅ Complete |
| CORE-09 | Phase 5 | ✅ Complete |
| CORE-10 | Phase 5 | ✅ Complete |
| CORE-11 | Phase 1 | ✅ Complete |
| CORE-12 | Phase 1 | ✅ Complete |
| CORE-13 | Phase 6 | ✅ Complete |

---

## Milestone Summary

**Shipped:** 13 of 13 v1 requirements (100%)
**Adjusted:** 0
**Dropped:** 0

**Key Accomplishments:**
1. tmux 集成层 (CORE-01, CORE-02) - Resource discovery and capture/send control
2. 共享状态系统 (CORE-03, CORE-04, CORE-05) - Status broadcasting and task locks
3. Master 实现 (CORE-06, CORE-07, CORE-08) - Scanning, auto-rescue, error detection
4. CLI 工具 (CORE-09, CORE-10) - Unified swarm command with tmux orchestration
5. 集成测试 (CORE-11, CORE-12, CORE-13) - Full workflow validation with 207 tests

**Codebase:**
- 4,315 LOC Python
- 14 source files
- 17 test files
- 207 tests passing

---

*Archived: 2026-01-31 as part of v1.0 milestone completion*
